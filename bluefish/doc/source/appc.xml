<!--
this file belongs to bluefish, a web development environment
Copyright (C) 2002 Denny Reeh

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
-->
<appendix id="bluefish-manual-guide">
<title>Guidelines for Writing this Manual</title>

<sect1 id="bluefish-manual-guide-intro">
<title>Introduction to DocBook</title>
<para>The Bluefish manual is written in <ulink url="http://www.docbook.org">DocBook</ulink> XML, which is a set of standards for writing documentation. Originally, DocBook was intended for computer software documentation, but is now used for many other document types.</para>
</sect1>

<sect1 id="bluefish-manual-guide-requirements">
<title>Building the Manual</title>
<para>To generate HTML, PDF or PostScript files out of the source XML, you will need the following:</para>
<itemizedlist>
	<listitem>
	<para>the Bluefish manual source files via CVS</para>
	</listitem>
	<listitem>
	<para>the Bluefish doc tools via CVS</para>
	</listitem>
	<listitem>
	<para>DocBook 4.2.0</para>
	</listitem>
	<listitem>
	<para>DocBook XSL style sheets</para>
	</listitem>
	<listitem>
	<para>XSLT Processors: we use <command>xsltproc</command> for HTML production, and <command>fop</command> for PDF and PostScript production.</para>
	</listitem>
	<listitem>
	<para><command>xmllint</command> for validating all files</para>
	</listitem>
</itemizedlist>
<para>Here are the procedures to install the required files:</para>
<procedure id="getting-manual">
	<title>Getting the Bluefish manual source files</title>
	<step><para>Login: 
	<screen>$ cvs -d :pserver:anonymous@cvs.sourceforge.net:/cvsroot/bluefish \ 
	login</screen></para>
	</step>
	<step><para>Hit enter at the prompt when asked for your password.</para>
	</step>
	<step>
	<para>Checkout the directory containing the Bluefish documentation: 
	<screen>$ cvs -z3 -d :pserver:anonymous@cvs.sourceforge.net:/cvsroot/bluefish \
	co bluefish-gtk2/doc</screen></para>
	<para>This will download all the files to your system in the directory <literal>bluefish-gtk2/doc/</literal>.</para>
	</step>
</procedure>
<procedure id="getting-doc-tools">
	<title>Getting the Bluefish doc tools</title>
<step>
	<para>Get the doc tools from CVS under <filename>bluefish-doctools</filename>:
	<screen>$ cvs -z3 -d :pserver:anonymous@cvs.sourceforge.net:/cvsroot/bluefish \
	co bluefish-doctools/</screen></para>
	</step>
</procedure>
<procedure id="installing-docbook-xsl">
	<title>Installing docbook-xsl</title>
	<step>
	<para>Install them for your distribution</para>
	</step>
	<step>
	<para>Put a copy of the unpacked tarball into <filename>bluefish-doctools/tools</filename>, renaming it xsl.</para>
	</step>
</procedure>
<procedure id="getting-xslt-processors">
	<title>Installing the xslt processors</title>
	<step>
	<para>Install libxslt if needed.</para>
	<para><command>xsltproc</command> is provided by the <ulink url="http://xmlsoft.org/XSLT/">libxslt</ulink>, distributed as part of the GNOME desktop environment and is packaged for most Linux distributions. <ulink url="http://fink.sourceforge.net/">Fink</ulink> provides the package for Mac OS X.</para>
	</step>
	<step>
	<para>Optionally, install fop for your distribution.</para>
	</step>
</procedure>
</sect1>

<sect1 id="bluefish-manual-guide-conventions">
<title>Conventions for Writing this Manual</title>
<para>We recommend to use bluefish to write the manual. It has most of the tags used in the manual in the <guilabel>DocBook</guilabel> custom menu. By unchecking the <guilabel>Use spaces to indent, not tabs</guilabel> and checking <guilabel>Word wrap default</guilabel> in the Preferences <guilabel>Editor</guilabel> panel, you will ensure that no unnecessary white space will be produced when processing the files.</para>
<para>The DocBook rules are strict and must be maintained in order for the manual to build using <literal>xsltproc</literal>. Thus, you should always validate the whole book before sending or committing any change. To do it, just issue:</para>
<screen>$ make validate-all</screen>
<para>in the <filename>bluefish-gtk2/doc/source</filename> directory.</para>
<para>However, there are some rules we like to follow to make editing the manual more efficient and organized.</para>

<sect2 id="bluefish-manual-guide-id-names">
<title>The <literal>id</literal> Attribute</title>
<para>We use <literal>id</literal> on chapter, appendix, section, figure, and procedure. This provides a convenient way to reference them in the text as well and to get them listed in the table of contents.</para>
<para>All <literal>id</literal> names should begin with the name of the book. In our case the main book file is <emphasis>bluefish.xml</emphasis>, so every <literal>id</literal> should begin with <emphasis>bluefish</emphasis>.</para>
<para>Separate words in the <literal>id</literal> with hyphens.</para>
<para>Finally, include a word or two describing the content in the section. For example, a chapter entitled <literal>Using Bluefish</literal> would have the id <emphasis>bluefish-using</emphasis>. And, a section within that chapter called <literal>Keyboard Shortcuts</literal> could have the name <emphasis>bluefish-using-shortcuts</emphasis>.</para>
<para>The main thing is that all id's must be unique or processing will fail. Also, be careful when renaming id's, since the name could be used in links within other parts of the manual. It's best to do a global search for an id in all the manual's files before changing an id.</para>
</sect2>

<sect2 id="bluefish-manual-guide-screenshots">
<title>Using Screen shots</title>
<para>All screen shots are png files. They should be placed in the <filename>bluefish-gtk2/doc/source/figures</filename> directory. They are inserted in the xml files with the following tags:</para>
<programlisting>
<![CDATA[
<para>
<figure id="figure-file-menu">
<title id="figure-file-menu-title">Bluefish File Menu</title>
<screenshot>
<mediaobject>
<imageobject>
<imagedata fileref="figures/file_menu.png" format="PNG"/>
</imageobject>
<textobject>
<phrase>A screen shot of the Bluefish File Menu</phrase>
</textobject>
</mediaobject>
</screenshot>
</figure>
</para>
]]>
</programlisting>
<para>Notice that the <literal>figure id</literal>, the <literal>title id</literal>, and the <literal>imagedata fileref</literal> are very similar. The former ones use hyphens, while the later uses underscore to separate the <literal>id</literal> parts. They have in common the significant part. Do not forget to put in the <literal>phrase</literal> tag, a sentence meaningful for blind people.</para>
</sect2>

<sect2 id="bluefish-manual-guide-interface-ref">
<title>Referencing Bluefish interface elements</title>
<para>We use the following DocBook GUI tags:</para>
<variablelist><title>Interface elements</title>
	<varlistentry><term>Isolated shortcut</term>
	<listitem><para>
	<programlisting><![CDATA[<keycombo><keycap>Ctrl</keycap><keycap>S</keycap></keycombo>]]>
</programlisting></para></listitem>
	</varlistentry>
	<varlistentry><term>Isolated menu</term>
	<listitem><para>
	<programlisting><![CDATA[<guimenu>File</guimenu>]]>
</programlisting></para></listitem>
	</varlistentry>
	<varlistentry><term>Menu with submenuitem</term>
	<listitem><para>
	<programlisting><![CDATA[<menuchoice><guimenu>File</guimenu><guimenuitem>Open</guimenuitem></menuchoice>]]>
</programlisting></para></listitem>
	</varlistentry>
	<varlistentry><term>Menu with submenuitem and shortcut</term>
	<listitem><para>
	<programlisting><![CDATA[<menuchoice><shortcut><keycombo><keycap>Ctrl</keycap><keycap>O</keycap></keycombo></shortcut><guimenu>File</guimenu><guimenuitem>Open</guimenuitem></menuchoice>]]>
</programlisting></para></listitem>
	</varlistentry>
	<varlistentry><term>Label</term>
	<listitem><para>
	<programlisting><![CDATA[<guilabel>Use spaces to indent, not tabs</guilabel>]]>
</programlisting></para></listitem>
	</varlistentry>
</variablelist>
</sect2>

<sect2 id="bluefish-manual-guide-procedure">
<title>Using procedures</title>
<para>When you want to explain some process, use procedures; this way, the user benefits of a clear step by step guidance. Here's how to do it:
<programlisting>
<![CDATA[
<procedure id="installing-docbook-xsl">
	<title>Installing docbook-xsl</title>
	<step>
	<para>Install them for your distribution</para>
	</step>
	<step>
	<para>Put a copy of the unpacked tarball into <filename>bluefish-doctools/tools</filename>, renaming it xsl.</para>
	</step>
</procedure>
]]>
</programlisting></para>
</sect2>

<sect2 id="bluefish-manual-guide-notes">
<title>Using notes, tips, warnings</title>
<para>As we need them in places where there are not supposed to be, we use the following workaround:
<programlisting>
<![CDATA[
<variablelist>
<varlistentry>
<term><emphasis>Warning</emphasis></term>
<listitem>
<para>You have to keep in mind that two GUI elements must not have the same shortcut key at the same level.</para>
</listitem>
</varlistentry>
</variablelist>]]>
</programlisting></para>
</sect2>

<sect2 id="bluefish-manual-guide-avoid">
<title>Recommendation</title>
<para>Do not use simplesect as it messes the table of contents.</para>
<para>Avoid to add blank lines or unnecessary white spaces in the files, it may break the files production and has the disadvantage to increase the files size.</para>
<para>A chapter should at least contains an <literal>id</literal>, a <literal>title</literal>, and either a <literal>para</literal> or section tag. Be aware that you cannot use an isolated <literal>para</literal> tag after a section.</para>
<para>All list items should be use a <literal>para</literal> tag to embed their contents. If 	all of the items contents are very short, i.e. fit into one line, you may want to use the following attribute to suppress the additional line between items:
<programlisting>
<![CDATA[
<itemizedlist spacing="compact">
]]></programlisting>
The same applies to ordered lists.</para>
<para>Avoid contractions. Use <emphasis>you will</emphasis> instead of <emphasis>you'll</emphasis>.</para>
</sect2>

<sect2 id="bluefish-manual-guide-error">
<title>Contact us</title>
<para>If you find errors in the manual, or just want to add more, please <link linkend="bluefish-contact">contact</link> us. If you have questions on how to edit the manual that are not addressed in this appendix, you can always ask on the <link linkend="bluefish-contact">mailing list</link>. Often, you can look to the chapter source to see how things are done.</para>
</sect2>

</sect1>

</appendix>